<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
   // 8 ^ 8 1000 1000 0000 0*2^0+0*2^1+0*2^2+0*2^3 = 0
  //  8 ^ 7 1000 0111 1111 1*2^0+1*2^1+1*2^2+1*2^3 = 15
  //  6 ^ 6 0110 0110 0000 0*2^0+0*2^1+0*2^2+0*2^3 = 0
  // 6 ^ 4 0110 0100 0010 1*2^0+1*2^1+1*2^2+*2^3 = 2
  // 6 & 4 0110 0100 01000  8
  // 2 ^ 8 0010 0100 0110 10
  // 2 & 8 0010 0100 0000 0
  // 两个数不使用四则运算得出和
  function sum(a,b) {
    if (a === 0) return b;
    if (b === 0) return a;
    let na = a ^ b
    let nb = (a & b) << 1
    return sum(na,nb)
  }
// console.log(sum(6,4))
// console.log(sum(8,8))
// console.log(sum(8,7))
function checkArray(array) {
    if (!array || array.length <= 2) return
}
function swap(array, left, right) {
    let rightValue = array[right]
    array[right] = array[left]
    array[left] = rightValue
}
function bubble(array) {
  // debugger
  checkArray(array);
  for (let i = array.length - 1; i > 0; i--) {
    // 从 0 到 `length - 1` 遍历
    for (let j = 0; j < i; j++) {
    // console.log('array.length - 1, i, j', array.length - 1, i, j)
    // 3 2   2,3
    // 3,1  1,3
    // 2,1,3
    // 2,1 1,2 
      if (array[j] > array[j + 1]) swap(array, j, j + 1)
      // console.log(array)
    }
  }
  return array;
}
// 
// i j array
// 2 0 [2,3,1]
// 2 1 [2,1,3]
// 1 0 [1,2,3]
// [3,2,1,4]
// 3 0 [2,3,1,4]
// 3 1 [2,1,3,4]
// 3 2 [2,1,3,4]
// 2 0 [1,2,3,4]
// 2 1 [1]
const arr = [3,2,1,4]
// console.log(bubble(arr))
const arr2 = [5,3,2,1,4]
for(let i = 0; i < arr2.length; i++) {
  for (let j = 0; j < arr2.length - 1; j++) {
    // console.log('arr2[i] > arr2[j]',arr2[i], arr2[j], arr2)
    if (arr2[j] > arr2[j + 1]) {
      let tmp = arr2[j]
      arr2[j] = arr2[j+1]
      arr2[j+1] = tmp
    }
  }
}
// console.log(arr2)

// i= 0 j = 0 j < 4 [4,5,3,2,1]
// i= 0 j = 1 j < 4 [4,3,5,2,1]
// i= 0 j = 2 j < 4 [4,3,2,5,1]
// i= 0 j = 3 j < 4 [4,3,2,1,5]
// i= 1 j = 0 j < 3 [3,4,2,1,5]
// i= 1 j = 1 j < 3 [3,2,4,1,5]
// i= 1 j = 2 j < 3 [3,2,1,4,5]
// i= 2 j = 0 j < 2 [2,3,1,4,5]
// i= 2 j = 1 j < 2 [2,1,3,4,5]
// i= 3 j = 0 j < 1 [1,2,3,4,5]

// i= 1 j = 1 [4,5,3,2,1]
// i= 2 j = 2 [4,3,5,2,1]
// i= 2 j = 1 [3,4,5,2,1]
// i= 3 j = 3 [3,4,2,5,1]
// i= 3 j = 2 [3,2,4,5,1]
// i= 3 j = 1 [2,3,4,5,1]
// i= 4 j = 4 [2,3,4,1,5]
// i= 4 j = 3 [2,3,1,4,5]
// i= 4 j = 2 [2,1,3,4,5]
// i= 4 j = 1 [1,2,3,4,5]
// const arr = [5,4,3,2,1]
// const length = arr.length;
// let j
// for(let i = 1; i < length; i++){
//   let temp = arr[i] // 4
//   j = i // 1
//   while(j > 0 && arr[j - 1] > temp) {
//     arr[j] = arr[j - 1]
//     j--
//   }
//   arr[j] = temp
// }
// [5,4,3,2,1]
// mid 2
// left [5,4]
// right [3,2,1]
// 2
// 1
// left [5]
// right [4]
// [5]
// [4]
// 5 < 4 false
// [4]
// [5,4] [3,2,1]
// [5][4] [3] [2,1]
// [5][4] [3] [2] [1]
function merge(left,right) {
  var result = [],
  il = 0,
  ir = 0; // 2 3
  while(il < left.length && ir < right.length) {
    if (left[il] < right(ir)) {
      result.push(left[il++]) // 0 0
    } else {
      result.push(right[ir++]) // 1 2
    }
  }
  while(il < left.length) {
    result.push(left[il++])
  }
  while(ir < left.length) {
    result.push(right[ir++])
  }
  return result
}
// [3] [1,2]
//  merge(mergesort([5,4]),mergesort([3,2,1]))
// merge(mergesort([5]),mergesort([4]))
// [4,5]
// 
var quick = function(array, left, right){
  var index; //{1}
  if (array.length > 1) { //{2}
  index = partition(array, left, right); //{3}
  if (left < index - 1) {
      quick(array, left, index - 1);
    if (index < right) {  //{6}
      quick(array, index, right);
  } }
  //{5}
  //{7}
  }
 };
 var partition = function(array, left, right) {
  var pivot = array[Math.floor((right + left) / 2)], //{8}
  i = left,
  j = right;
  while (i <= j) {
    while (array[i] < pivot) {  //{12}
      i++; 
    }
    while (array[j] > pivot) {  //{13}
      j--;
    }
    if (i <= j) { //{14}
      swap(array, i, j); //{15}
      i++;
      j--;
    }
  }
  console.log(array)
  return i; //{16}
};
var arr3 = [5,4,3,2,1]
var arr3 = [5,1,3,2,4]
partition(arr3, 0, arr3.length - 1)
  </script>
</body>
</html>