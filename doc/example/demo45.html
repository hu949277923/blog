<!--
 * @Author       : hubinbin
 * @Date         : 2020-12-02 20:13:23
 * @LastEditTime : 2020-12-09 14:53:06
 * @LastEditors  : hubinbin
 * @Description  : 
 * @FilePath     : /blog/doc/example/demo45.html
 * @----------------------------------------------------------------------------------
-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script type="module">
		// 统计所有小于等于非负整数 n 的质数的数量。
		function countPrimes(n) {
			// debugger
			let count = 0;
			if (n >= 2) count++
			for (let i = 3; i <= n; i++) { //
				if (i !== 2 && i % 2 === 0) continue
				let sign = true
				for (let j = 2; j < i; j++) { //
					if (j > Math.sqrt(n)) break
					if (i % j === 0) {
						sign = false
						break
					}
				}
				if (sign) {
					count++
				}
			}
			console.log('---count---', count)
			return count
		}
		countPrimes(20) // 2 3 5 7 11
	
		// 2 2 * 2
		// 是否是质数
		const isPrimeNum = n => {
			for(let i = 2; i * i <= n; i++) {
				if (n % i === 0) {
					return false
				}
			}
			return true
		}  
		// 时间复杂度：O(n\sqrt{n})O(n)。单个数检查的时间复杂度为 O(\sqrt{n})O(n)，一共要检查 O(n)O(n) 个数，因此总时间复杂度为 O(n\sqrt{n})O(n)。
		// 空间复杂度：O(1)O(1)。
		function countPrimes3(n) {
			let count = 0
			for(let i = 3; i < n; i++) {
				if (isPrimeNum(i)) {
					count++
				}
			}
			return count
		}
		console.log(countPrimes3(10))
// 厄拉多塞筛法，简称埃氏筛。
		function countPrimes4(n) {
			let count = 0;
			let arr = Array(n).fill(1)
			let num = 0
			for (let i = 2; i < n; i++) {
				if (arr[i] === 1) {
					num+=1
					for(let j = i; j * i <= n; j++) {
						arr[i * j] = 0
						count++
					}
				}
			}

			console.log(arr, count)
			return num
		}
		// 1 2 3 4(0) 5 6(0) 7 8(0) 9(0) 10(0)
		// 
		console.log(countPrimes4(20))
	</script>
</body>
</html>