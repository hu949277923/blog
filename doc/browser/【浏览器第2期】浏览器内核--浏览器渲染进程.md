# 浏览器渲染进程
在第一期浏览器了解到浏览器是多进程，我们为什么这里重点介绍渲染进程呢？因为页面渲染、js的编译执行、事件处理等都在这个进程内执行。这些都是前端同学日常接触最多的

在第一期中我们有提到，进程是由多个线程组成的。那么，我们这期介绍下，具体有哪些线程？这些线程的作用又是什么呢？

## 渲染进程有哪些线程及这些线程的作用
### GUI渲染线程
- 负责渲染浏览器界面。解析html,css，构建DOM树和RenderObject树，
- 当页面需要重绘或者由于某些操作引发回流时，该线程会被执行

**注意** ***GUI渲染线程与JS引擎线程是互斥的***。当JS引擎线程执行时，GUI渲染线程会被挂起并保存在一个队列中，等JS引擎线程执行结束后，再立即执行。
### JS引擎线程
- 也称为js内核。如：v8引擎
- 负责处理js的编译、解析及运行等
- 浏览器无论任何时候，只有一个js线程在运行js程序

**注意** ***GUI渲染线程与JS引擎线程是互斥的***。如果js执行时间过长，会阻塞页面渲染，所以一般在优化中一般会把js放到页面底部。

### 事件触发线程
- 明确一点是属于浏览器而不是js引擎，用来处理事件循环
- 当js引擎执行setTimeOut、鼠标点击、ajax异步请求时，会将对应的任务添加到事件线程
- 当对应的事件符合触发条件时，该线程会把事件添加到待处理队列的队尾，等待JS引擎的处理

**注意**由于js的单线程关系，所以这些待处理队列中的事件需要排队等到js引擎空闲下来时才会去处理
### 定时器触发器线程
- setTimeout和setInterval所在的线程
- 定时器并不是由js引擎进行计数的
- 通过单线程来计时并触发定时

**注意** W3C在HTML标准中规定，setTimeout低于4ms会按4ms计算
### 异步http请求线程

在XMLHttpRequest在连接后是通过浏览器新开一个线程请求。将检测到状态变更时，如果设置有回调函数，异步线程就产生状态变更事件，将这个回调再放入事件队列中。再由JavaScript引擎执行。





